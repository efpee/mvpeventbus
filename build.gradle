subprojects {
    apply plugin: 'java'
    apply plugin: 'eclipse'
    apply plugin: 'code-quality'

    dependencies {
        testCompile fileTree(dir:"${rootDir}/lib/default", include:'*.jar')
	compile fileTree(dir: "${rootDir}/lib/test", include:'*.jar')
    }

    checkstyleConfigFileName = "${rootDir}/config/checkstyle/sun_checks.xml"

    checkstyleMain {
        ignoreFailures = true
    }

    checkstyleTest {
        ignoreFailures = true
	configFile = file("${rootDir}/config/checkstyle/junit.xml")
    }

    version = '1.0'

    jar {
        manifest.attributes provider: 'ICTects'
    }
}

task fixupTestDatesForHudson << {
    testReportFiles = fileTree(dir: '.', include: '**/build/test-results/TEST*.xml')
    testReportFiles.each { it.setLastModified(System.currentTimeMillis()) }
}

